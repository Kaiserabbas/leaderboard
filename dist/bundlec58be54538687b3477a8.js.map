{"version":3,"file":"bundlec58be54538687b3477a8.js","mappings":";;;;;AAAA;AACA,uFAAuF,OAAO;;AAE9F;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,YAAY,IAAI,YAAY;AACxD;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://leaderboard/./src/index.js"],"sourcesContent":["const gameId = 'kyBoyHWV3ns6jrHWqAzp';\nconst urlAPI = `https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/${gameId}/scores`;\n\nconst getScores = async () => {\n  try {\n    const response = await fetch(urlAPI);\n    const data = await response.json();\n    return data.result;\n  } catch (error) {\n    console.error('Error fetching scores:', error);\n  }\n};\n\nconst displayScores = (scores) => {\n  const scoreboard = document.getElementById('scoreboard');\n  scoreboard.innerHTML = '';\n\n  scores.forEach((score) => {\n    const scoreDiv = document.createElement('div');\n    scoreDiv.innerText = `${score.user} - ${score.score}`;\n    scoreboard.appendChild(scoreDiv);\n  });\n};\n\nconst refreshButton = document.getElementById('refresh-btn');\nrefreshButton.addEventListener('click', async () => {\n  const scores = await getScores();\n  displayScores(scores);\n});\n\nconst saveScore = async (user, score) => {\n  try {\n    const payload = {\n      user: user,\n      score: score,\n    };\n    const response = await fetch(urlAPI, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(payload),\n    });\n    const data = await response.json();\n    console.log(data.result);\n  } catch (error) {\n    console.error('Error saving score:', error);\n  }\n};\n\nconst form = document.getElementById('form');\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  const username = document.getElementById('username').value;\n  const score = document.getElementById('yourscore').value;\n\n  if (!username || !score) {\n    console.error('Please fill in both username and score fields.');\n    return;\n  }\n\n  await saveScore(username, score);\n  // After submitting, refresh the scores to display the updated list\n  const scores = await getScores();\n  displayScores(scores);\n  // Reset the form fields after submission\n  form.reset();\n});\n\n// On page load, fetch and display the initial scores\nwindow.addEventListener('DOMContentLoaded', async () => {\n  const scores = await getScores();\n  displayScores(scores);\n});\n"],"names":[],"sourceRoot":""}